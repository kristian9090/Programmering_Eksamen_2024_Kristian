<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam </title>
    <link href="exam3.css" rel="stylesheet" media="all">
</head>
<body>
    <main>
        <h1>Fargepaletten</h1>
        <canvas id="colorspace"></canvas>
        <nav>
            <button id="addColor">Legg til en farge</button>
            <button id="emptyArray">Tilbakestill fargene</button>
            <button id="generateAll">Generer 10 nye farger</button>
        </nav>
        <h2>Endre farger:</h2>
        <section>
            <p>Bytt ut fargen i rute <select id="colorSquareIndex">
                <option value="0">1</option>
                <option value="1">2</option>
                <option value="2">3</option>
                <option value="3">4</option>
                <option value="4">5</option>
                <option value="5">6</option>
                <option value="6">7</option>
                <option value="7">8</option>
                <option value="8">9</option>
                <option value="9">10</option>
            </select> med #<input type="text" id="newColor" /> <button id="saveNewColor">Lagre ny farge</button></p>
        </section>
    </main>
    

    <script>
        //Configure canvas
        const canvas = document.getElementById("colorspace")
        canvas.width = 1000
        canvas.height = 100
        const ctx = canvas.getContext("2d")

        /* --- YOUR FUNCTIONALITY AND CODE GOES HERE --- */
        
        // Minstekrav, Oppgave 2, lager en tom array der fargene lagred
        let colorArray = []

        // Minstekrav, Oppgave 1, lager en funksjon som genererer en farge
        function generateColor() {
            // If test der colorArray kan kun lagre maks 10 farger, return hvis arrayen er full
            if (colorArray.length >= 10) {
            return
            }   
            // Lager array for hexa farge som består av tall og bokstaver
            const numbers = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"]
            let hex = "#"
            // En for loop som går gjennom numbers arrayen, henter tilfeldige tall og bokstaver til slutt genereres en farge kode på maks 6 tegn
            for (let maxNum = 0; maxNum < 6; maxNum++) {
            hex += numbers[Math.floor(Math.random() * numbers.length)]
            }
            //returnerer fargen 
            return hex
        }

        // Minstekrav oppgave 2, lager funskjon for å lagre 10 farger
        function addColorArray() {
            const newColor = generateColor()
            if (newColor) {
            //legger til fargen i arrayen med .push
            colorArray.push(newColor)
            // Minstekrav, Oppgave 3 logger i konsollen
            console.log(colorArray)
            }
        }

        // Minstekrav, Oppgave 1, når #addcolor trykkes skal det genereres en ny farge     
        document.getElementById("addColor").addEventListener("click", addColorArray)
    


        //requestAnimationFrame
        const requestAnimationFrame = window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame
        function renderCanvas() {
            
            requestAnimationFrame(renderCanvas)
        }

        //Initial running of drawing canvas
        renderCanvas()
    </script>
</body>
</html>